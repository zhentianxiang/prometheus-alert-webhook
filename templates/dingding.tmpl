{{ define "dingding_message" }}
{
    "msgtype": "markdown",
    "markdown": {
        "title": "{{ with .alerts }}{{ (index . 0).Labels.alertname }}{{ else }}Prometheus å‘Šè­¦{{ end }}",
        "text": "{{ range $i, $alert := .alerts }}{{if eq .Status `resolved`}}### âœ… <font color=\"#008000\">ã€å‘Šè­¦æ¢å¤ã€‘</font>\n\n{{else}}### ğŸš¨ <font color=\"#FF0000\">ã€å‘Šè­¦è§¦å‘ã€‘</font>\n\n{{end}}**å‘Šè­¦åç§°:** {{ .Labels.alertname }}\n\n**å‘Šè­¦çº§åˆ«:** {{ .Labels.severity }}\n\n**çŠ¶æ€:** {{ .Status }}\n\n**å‘Šè­¦è¯¦æƒ…:**\n\n{{ range .Fields }}{{ .key }} {{ .value }}\n\n{{ end }}**æ‘˜è¦:** {{ .Annotations.summary }}\n\n**è¯¦æƒ…æè¿°:** {{ if .Annotations.description }}{{ .Annotations.description }}{{ else }}{{ .Annotations.message }}{{ end }}\n\n**æ—¶é—´ä¿¡æ¯:**\nå¼€å§‹æ—¶é—´: {{ .StartsAt | getCSTtime }}{{if eq .Status `resolved`}}\nç»“æŸæ—¶é—´: {{ .EndsAt | getCSTtime }}{{end}}{{ if gt (len $.alerts) 1 }}{{ if lt $i (sub (len $.alerts) 1) }}\n\n---\n\n{{ end }}{{ end }}{{ end }}"
    },
    "at": {
        "isAtAll": false
    }
}
{{ end }}